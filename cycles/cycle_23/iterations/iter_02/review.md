# Review — Iteration 2: MODIFY

**査読日:** 2026-02-27
**判定:** MODIFY

## 却下・修正要求の理由

### [問題1]: 合成データ禁止違反（連続分布からのデータ生成）およびジョイント置換検定の制約違反
**深刻度:** 致命的
**該当箇所:** `E:\Obsidian\KSAU_Project\cycles\cycle_23\iterations\iter_02\code\h58_iter_02.py` の `np.random.uniform` 使用箇所 (73-81行目付近)
**問題の内容:** 
1. **合成データの生成**: `axion_rand = np.random.uniform(...)` および `grav_rand = np.random.uniform(...)` を使用して、テスト用の数値を連続分布から動的に生成しています。これはAIRDPフレームワークにおける「合成データ・Ground Truth 生成の禁止」の完全な違反です。モンテカルロ検定の対象は、実際のデータセット（プール）からの再サンプリング（置換）でなければなりません。
2. **物理的制約（同一インデックスの共有）違反**: ロードマップには「3変数を『同時』にランダム置換（独立置換の積ではなく、同一置換インデックスを共有する joint test）」と明記されています。しかし現在のコードは、Top崩壊幅のみ KnotInfo からランダムサンプリングし、アクシオンと重力は全く独立に一様乱数からサンプリングしているため、変数の独立性が仮定されており joint permutation になっていません。

**要求する対応:**
- `np.random.uniform` を用いた連続分布からの合成データ生成を完全に排除してください。
- 3変数（アクシオン、重力、Top）すべてについて、「代替となる予測値のプール（KnotInfoの結び目など）」を用意し、各MC試行において「同一のランダムインデックス（`top_indices[i]` など）」を用いて3つの数値を**同時に**抽出・計算する真のジョイント置換検定として再実装してください。（アクシオンや重力についても、KnotInfoのパラメータから算出する代替公式を用いるか、あるいはそれに準ずるプールから抽出する必要があります）

## 統計指標
- p 値（観測）: 0.0 (FPR計算が無効なため参考外)
- Bonferroni 補正後閾値: 0.016667
- FPR: N/A (実装不備)
- 判定根拠: SSoTコンプライアンス（合成データ生成の禁止）への明確な違反。およびロードマップ「同一置換インデックスの共有」という物理的制約の未達。