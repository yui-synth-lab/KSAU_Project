# Review — Iteration 1: MODIFY

**査読日:** 2026-02-24
**判定:** MODIFY

## 却下・修正要求の理由

### [問題1]: SSoT コンプライアンス違反（パスのハードコード）
**深刻度:** 致命的
**該当箇所:** `h22_derivation.py:10, 83`
**問題の内容:** コード内に絶対パス `Path("E:/Obsidian/KSAU_Project/...")` が直接記述されています。Reviewer 査読基準「Path("...") 等のパスがコード内に存在しないか？（1件でも即却下）」および Project Context Rule 4 に明示的に違反しています。
**要求する対応:** すべてのパスを `Path(__file__)` からの相対パス、またはプロンプトで指定された `SSOT_DIR` 定数（`SSOT_DIR = Path(...)`）を冒頭で定義して使用する形式に修正してください。

### [問題2]: 統計的検証の欠如（FPR / p 値）
**深刻度:** 重大
**該当箇所:** `results.json`, `h22_derivation.py`
**問題の内容:** Roadmap の H22 成功基準に明記されている「FPR（モンテカルロ置換検定） < 50%」および「Bonferroni 補正後 p 値」の計算が実施されていません。整合性検証タスクとして不十分です。
**要求する対応:** モンテカルロ置換検定による FPR の算出、および帰無仮説に対する p 値の計算を実装し、`results.json` に記録してください。

### [問題3]: 不適切なデータ形式（Invalid JSON）
**深刻度:** 重大
**該当箇所:** `results.json`
**問題の内容:** `results.json` 内に `NaN` が含まれており、標準的な JSON 形式として不正です。これは Lepton/Boson セクターで `components` フィールドが未定義であることに起因します。
**要求する対応:** `NaN` を排除し、適切なデフォルト値（1 等）を割り当てるか、`null` (None) として処理されるようにコードを修正してください。

### [問題4]: 物理的制約への抵触（自由パラメータ数）
**深刻度:** 軽微
**該当箇所:** `h22_derivation.py:65-68`
**問題の内容:** H22 の物理的制約「最大自由パラメータ数: 0」に対し、セクター別の切片（3個）をデータから算出（Fit）して $R^2$ を計算しています。これは実質的に 3 つの自由パラメータを使用していることになります。
**要求する対応:** 0 パラメータモデル（切片も理論値または固定値とする）での評価を行うか、H23 での離散化を待たずに現時点でなぜ切片のフィッティングが許容されるのか、論理的整合性を説明してください。

## 統計指標
- p 値（観測）: 未計算
- Bonferroni 補正後閾値: 0.016666
- FPR: 未計算
- R²: 0.550175
- 判定根拠: SSoT 違反および統計的検証タスクの未完了。
